
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Using TShark & Wireshark to analyse SRT traffic - SRT CookBook</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-tshark-wireshark-to-analyse-srt-traffic" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="SRT CookBook" class="md-header__button md-logo" aria-label="SRT CookBook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SRT CookBook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using TShark & Wireshark to analyse SRT traffic
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/SRTLab/srt-cookbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="SRT CookBook" class="md-nav__button md-logo" aria-label="SRT CookBook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    SRT CookBook
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/SRTLab/srt-cookbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Apps
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Apps" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Apps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/index.html" class="md-nav__link">
        Projects and Applications with SRT support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/ffmpeg.html" class="md-nav__link">
        FFmpeg
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/gstreamer-plugin.html" class="md-nav__link">
        GStreamer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/obs-studio.html" class="md-nav__link">
        OBS Studio
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/tsduck.html" class="md-nav__link">
        TSDuck
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/vlc-media-player.html" class="md-nav__link">
        VLC Media Player
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/wireshark.html" class="md-nav__link">
        Wireshark
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Getting started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/build-on-windows.html" class="md-nav__link">
        Build on Windows
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/vcpkg-library-manager.html" class="md-nav__link">
        Vcpkg Library Manager
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      <label class="md-nav__link" for="__nav_5">
        How to articles
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="How to articles" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How to articles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="how-to-setup-Azure-VM.html" class="md-nav__link">
        How to Setup Virtual Machine in Azure
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Using TShark & Wireshark to analyse SRT traffic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="how-to-setup-wireshark-for-srt-traffic-analysis.html" class="md-nav__link md-nav__link--active">
        Using TShark & Wireshark to analyse SRT traffic
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-centos" class="md-nav__link">
    Installing TShark &amp; Wireshark on CentOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-ubuntu-1804-lts" class="md-nav__link">
    Installing TShark &amp; Wireshark on Ubuntu 18.04 LTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-ubuntu-19" class="md-nav__link">
    Installing TShark &amp; Wireshark on Ubuntu 19+
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-macos-and-windows" class="md-nav__link">
    Installing TShark &amp; Wireshark on MacOS and Windows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-tshark-to-capture-network-traffic" class="md-nav__link">
    Using TShark to capture network traffic
  </a>
  
    <nav class="md-nav" aria-label="Using TShark to capture network traffic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux-macos" class="md-nav__link">
    Linux &amp; MacOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    Windows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practice-tips" class="md-nav__link">
    Best practice tips
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analysing-the-pcapng-capture-file" class="md-nav__link">
    Analysing the .pcapng capture file
  </a>
  
    <nav class="md-nav" aria-label="Analysing the .pcapng capture file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lib-tcpdump-processing" class="md-nav__link">
    lib-tcpdump-processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wireshark-gui" class="md-nav__link">
    Wireshark GUI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="how-to-simulate-networks-with-netem.html" class="md-nav__link">
        Using NetEm to Emulate Networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="how-to-work-with-ssh-keys.html" class="md-nav__link">
        How to Work with SSH Keys
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Protocol
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Protocol" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Protocol
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/index.html" class="md-nav__link">
        The Protocol
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/bandwidth-estimation.html" class="md-nav__link">
        Bandwidth Estimation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/events-and-timers.html" class="md-nav__link">
        Control Events and Timers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/overhead.html" class="md-nav__link">
        SRT Protocol Overhead
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/threads.html" class="md-nav__link">
        Threads
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      <label class="md-nav__link" for="__nav_6_6">
        Congestion control
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Congestion control" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Congestion control
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/congestion-control/index.html" class="md-nav__link">
        Congestion Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/congestion-control/file-cc.html" class="md-nav__link">
        File Congestion Control
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      <label class="md-nav__link" for="__nav_6_7">
        Tsbpd
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tsbpd" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Tsbpd
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/tsbpd/index.html" class="md-nav__link">
        TSBPD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/tsbpd/latency-negotiation.html" class="md-nav__link">
        Latency Negotiation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/tsbpd/latency.html" class="md-nav__link">
        SRT Latency
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-centos" class="md-nav__link">
    Installing TShark &amp; Wireshark on CentOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-ubuntu-1804-lts" class="md-nav__link">
    Installing TShark &amp; Wireshark on Ubuntu 18.04 LTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-ubuntu-19" class="md-nav__link">
    Installing TShark &amp; Wireshark on Ubuntu 19+
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tshark-wireshark-on-macos-and-windows" class="md-nav__link">
    Installing TShark &amp; Wireshark on MacOS and Windows
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-tshark-to-capture-network-traffic" class="md-nav__link">
    Using TShark to capture network traffic
  </a>
  
    <nav class="md-nav" aria-label="Using TShark to capture network traffic">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux-macos" class="md-nav__link">
    Linux &amp; MacOS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windows" class="md-nav__link">
    Windows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practice-tips" class="md-nav__link">
    Best practice tips
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analysing-the-pcapng-capture-file" class="md-nav__link">
    Analysing the .pcapng capture file
  </a>
  
    <nav class="md-nav" aria-label="Analysing the .pcapng capture file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lib-tcpdump-processing" class="md-nav__link">
    lib-tcpdump-processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wireshark-gui" class="md-nav__link">
    Wireshark GUI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SRTLab/srt-cookbook/blob/master/docs/how-to-articles/how-to-setup-wireshark-for-srt-traffic-analysis.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="using-tshark-wireshark-to-analyse-srt-traffic">Using TShark &amp; Wireshark to analyse SRT traffic</h1>
<p>Wireshark is a free and open-source packet analyzer. It is a very powerful tools to analyse network traffic, such as a connection.</p>
<p>Since version 3.0 Wireshark supports the SRT protocol and display filters can be applied to find particular elements of a SRT stream easily</p>
<p><em>TShark</em> is a terminal oriented version of  Wireshark designed for capturing and displaying packets when an  interactive user interface isn't necessary or available.</p>
<p>Both tools - TShark and Wireshark with GUI - can be used to create packet captures, which  are helpful to reproduce errors remotely or to feed other analysis tools such as <a href="https://github.com/mbakholdina/lib-tcpdump-processing">lib-tcpdump-processing</a>.</p>
<p>If you only want to capture files and do the analysis on a remote machine, installation of TShark is sufficient. </p>
<h2 id="installation">Installation</h2>
<h3 id="installing-tshark-wireshark-on-centos">Installing TShark &amp; Wireshark on CentOS</h3>
<p>TShark on CentOS is part of the CLI-version of Wireshark. To install use following command:</p>
<pre><code>sudo yum install wireshark
</code></pre>
<p>This will install tshark in <code>/usr/sbin/tshark</code> </p>
<p>To install Wireshark with GUI, do the following:</p>
<pre><code>sudo yum install wireshark-gnome
</code></pre>
<h3 id="installing-tshark-wireshark-on-ubuntu-1804-lts">Installing TShark &amp; Wireshark on Ubuntu 18.04 LTS</h3>
<p>Ubuntu 18.04 only provides Wireshark version 2.6, which has no native SRT support. To install the desired 3.0 or higher version, you could either build Wireshark yourself or follow the instructions from <a href="https://launchpad.net/~wireshark-dev/+archive/ubuntu/stable">launchpad</a> to get a binary package.</p>
<p>Basically you would add a Personal Package Archive (PPA) to your package repository with following 3 commands. For detailed instructions check the launchpad page at link above.</p>
<pre><code>sudo add-apt-repository ppa:wireshark-dev/stable
sudo apt-get update
sudo apt install wireshark tshark
</code></pre>
<p>To install the GUI version of Wireshark use following command after adding the PPA:</p>
<pre><code>sudo apt-get install wireshark-qt
</code></pre>
<h3 id="installing-tshark-wireshark-on-ubuntu-19">Installing TShark &amp; Wireshark on Ubuntu 19+</h3>
<p>Recent versions of Ubuntu serve version 3+ versions of TShark &amp; Wireshark.</p>
<pre><code>sudo apt-get update
sudo apt install wireshark tshark
</code></pre>
<p>To install the GUI version of Wireshark use following command:</p>
<pre><code>sudo apt-get install wireshark-qt
</code></pre>
<h3 id="installing-tshark-wireshark-on-macos-and-windows">Installing TShark &amp; Wireshark on MacOS and Windows</h3>
<p>Please download the Wireshark installer for MacOS or Windows directly from the <a href="https://www.wireshark.org/#download">Wireshark download site</a> and follow the instructions of the installer. TShark installation can be optionally selected (default is on).</p>
<h2 id="using-tshark-to-capture-network-traffic">Using TShark to capture network traffic</h2>
<p>In order to get best results for further analysis, the network capture should be started before the SRT connection is initiated. So we capture the SRT handshake as well, which can be useful later on.</p>
<h3 id="linux-macos">Linux &amp; MacOS</h3>
<p>Let's assume you are receiving a SRT stream on UDP port 4200 and want to capture it. First you want to make sure, that you are capturing the traffic on the right interface. If your system has multiple network interfaces you could use following command to list all available interfaces: (depending on your settings, you might need root privileges, which can be granted with <code>sudo</code>command)</p>
<p>Most Linux systems:</p>
<pre><code>sudo ip a
</code></pre>
<p>MacOS and some Linux systems:</p>
<pre><code>sudo ifconfig
</code></pre>
<p>Once you have identified the interface of your choice run following command: (some systems might need root priviliges to execute packet captures. Use <code>sudo</code>command then)</p>
<pre><code>tshark -i enp9s0 -f &quot;udp port 4200&quot; -s 1500 -w ./rcv-SRT.pcapng
</code></pre>
<ul>
<li><code>-i enp9s0</code>specifies the interface. Depending on your system this could also be <code>-i eth0</code> or  <code>-i eno1</code> or whatever the particular interface is named like</li>
<li><code>-f "udp port 4200"</code> specifies a filter rule to only capture UDP packets on port 4200</li>
<li><code>-s 1500</code> defines the snapshot length to capture, in this case 1500 bytes per packet</li>
<li><code>-w ./rcv-SRT.pcapng</code> sets the path and filename in which the captured data is written. In this case in the same directory that you are currently in with the file name <code>rcv-SRT.pcapng</code></li>
</ul>
<h3 id="windows">Windows</h3>
<p>The procedure on Windows is quite similar, however the naming conventions for the network adapters can be a confusing. </p>
<p>With following command you can found out IP addresses of your network interfaces:</p>
<pre><code>ipconfig /all
</code></pre>
<p>Note down the name of the <code>Ethernet adapter</code> of your choice with the correct IP address that you were looking for. In this example we are looking at <code>Ethernet adapter Local Area Connection 2:</code> Now point your shell (Terminal / PowerShell) to the Wireshark directory, which is per default: <code>c:\Program Files\Wireshark</code> and execute following command:</p>
<pre><code>tshark.exe -D
</code></pre>
<p>The option <code>-D</code> lists all interfaces, unfortunately without IP address. But we already identified the IP with the <code>ipconfig</code> command in the prior step. The output would give you something like this:</p>
<pre><code>c:\Program Files\Wireshark&gt;tshark.exe -D
1. \Device\NPF_{C4423365-7B46-493C-95E8-2F009A099E0A} (VMware Network Adapter VMnet8)
2. \Device\NPF_{78032B7E-4968-42D3-9F37-287EA86C0AAA} (Local Area Connection* 10)
3. \Device\NPF_{B9A7544E-73D8-4533-BC46-C3A2B99D68BF} (VirtualBox Host-Only Network)
4. \Device\NPF_NdisWanIp (NdisWan Adapter)
5. \Device\NPF_{A0B05D56-015A-4045-832F-E244BC32F9DC} (Local Area Connection)
6. \Device\NPF_NdisWanBh (NdisWan Adapter)
7. \Device\NPF_NdisWanIpv6 (NdisWan Adapter)
8. \Device\NPF_{03564282-7495-4FB5-98A2-CF349E10BE23} (Local Area Connection 2)
9. \Device\NPF_{663F8BBF-7C41-494B-B2BA-269DA97B8B49} (VMware Network Adapter VMnet1)
10. \Device\NPF_{3556DA2E-DEC6-410B-B791-E82CC8ABF216} (Local Area Connection 10)
11. \Device\NPF_Loopback (Adapter for loopback traffic capture)
12. \Device\NPF_{1949D5F2-F562-4C4E-8665-EABC55BFBFFC} (Local Area Connection 4)
13. \Device\NPF_{F4A0A87F-5DB3-42E5-A29E-C061045C1E99} (Local Area Connection 11)
</code></pre>
<p>The adapter of our choice in this example ( <code>Ethernet adapter Local Area Connection 2</code> ) has the <code>ID 8</code>.</p>
<p>Finally we can use the <code>ID 8</code> to perform the network capture by issuing following command:</p>
<pre><code>tshark.exe -i 8 -f &quot;udp port 4200&quot; -s 1500 -w c:\temp\rcv-SRT.pcapng
</code></pre>
<h3 id="best-practice-tips">Best practice tips</h3>
<ul>
<li>
<p>start the capture before starting the SRT transmission</p>
</li>
<li>
<p>name the .pcapng files in a way, which gives you a clue later on. For example use <code>rcv</code> or <code>snd</code> in filename and maybe something like <code>testrun-1</code> or other identifiers, which help to understand what you did later on</p>
</li>
<li>
<p>on Linux and MacOS you can specify a particular length of time to run the capture with help of <code>timeout</code> command. For example use following command to capture 30 seconds of traffic</p>
</li>
</ul>
<p><code>sudo timeout 30 tshark -i enp9s0 -f "udp port 4900" -s 1500 -w ./rcv-SRT.pcapng</code></p>
<ul>
<li>
<p>to stop a capture without <code>timeout</code> given just use the keyboard command <code>CTRL + C</code></p>
</li>
<li>
<p>timeout on Windows works a bit different. To perform a 30 second capture you can use: </p>
</li>
</ul>
<p><code>start "" app.exe &amp; timeout /t 30 &amp; taskkill /im app.exe /f</code></p>
<p>for our example this would result in:</p>
<p><code>start "" tshark.exe -i 8 -f "udp port 4200" -s 1500 -w c:\temp\rcv-SRT.pcapng &amp; timeout 30 &amp; taskkill /im tshark.exe /f</code></p>
<h2 id="analysing-the-pcapng-capture-file">Analysing the .pcapng capture file</h2>
<h3 id="lib-tcpdump-processing">lib-tcpdump-processing</h3>
<p>Specifically for network captures of SRT streams you can use the python scripts out of the library <a href="https://github.com/mbakholdina/lib-tcpdump-processing">lib-tcpdump-processing</a> provided by Maria Sharabayko. It's a great set of tools to analyse details of an SRT stream and get details quickly. </p>
<p>Example output of the <code>get-traffic-stats</code> script:</p>
<pre><code>Overall UDP rate:          7.501 Mbps
SRT Data org+rexmit pld:   7.367 Mbps
SRT Data org payload:      6.665 Mbps
SRT Data overhead:         1.824%
SRT Data missing:          0.000%
SRT Data rexmit overhead:  10.723%
SRT ACK overhead:          0.286%
SRT ACKACK overhead:       0.286%
SRT NAK overhead:          0.162%
===========================================
SRT overall overhead:       11.325%
SRT Data packets (org):     19913
SRT retransmitted:          719 packets (2097 retransmissions)
SRT DATA retransmisions:    10.531% × DATA packets
SRT retransmitted:          3.611% of original packets
    including retransmitted:
    once:    0.015% of original packets
    twice:   0.291% of original packets
    3×:      3.284% of original packets
    4×:      0.020% of original packets
    more:    0.000% of original packets
</code></pre>
<p>For further documentation and examples please visit the website: <a href="https://github.com/mbakholdina/lib-tcpdump-processing">lib-tcpdump-processing</a></p>
<h3 id="wireshark-gui">Wireshark GUI</h3>
<p>Before you can get started with analysing SRT in the Wireshark GUI, you need to uncheck interpretation of <code>UDT</code> packets in Wireshark. To do that, click on <code>Analyse</code> in the menu bar on top and select <code>Enabled Protocols</code> from the dropdown menu. (keyboard shortcut: <code>CTRL+SHIFT+E</code>).</p>
<p>Now search for <code>UDT</code> and uncheck the UDT-options which are displayed like shown in picture below.</p>
<p><img alt="./img/wireshark-udt.png" src="img/wireshark-udt.png" /></p>
<p>Now you can import your captured .pcapng file or start a live capture from inside the Wireshark GUI.</p>
<p>A list of possible "display filters" for the SRT protocol can be found at the <a href="https://www.wireshark.org/docs/dfref/s/srt.html">Wireshark SRT Display Filter Reference page</a>.</p>
<p>There are cases when Wireshark will not pass the remainder of the UDP packet to sub-dissectors.
SRT is a sub-dissector of UDP.
This case is in the <code>decode_udp_ports</code> function of Wireshark, and has the following comment description:</p>
<pre><code>Do lookups with the subdissector table.
We try the port number with the lower value first, followed by the
port number with the higher value.  This means that, for packets
where a dissector is registered for both port numbers:

   1) we pick the same dissector for traffic going in both directions;

   2) we prefer the port number that's more likely to be the right
      one (as that prefers well-known ports to reserved ports);

although there is, of course, no guarantee that any such strategy
will always pick the right port number.

XXX - we ignore port numbers of 0, as some dissectors use a port
number of 0 to disable the port, and as RFC 768 says that the source
port in UDP datagrams is optional and is 0 if not used.
</code></pre>
<p>:exclamation: Wireshark offers a workaround for this. You have to set the following advanced option:
<code>Edit -&gt; Preferences -&gt; Advanced: udp.try_heuristic_first = TRUE</code>.
This will make a UDP packet to be passes to sub-dissectors first.</p>
<p><img alt="./img/wireshark-heuristic.png" src="img/wireshark-heuristic.png" /></p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="how-to-setup-Azure-VM.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: How to Setup Virtual Machine in Azure" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              How to Setup Virtual Machine in Azure
            </div>
          </div>
        </a>
      
      
        
        <a href="how-to-simulate-networks-with-netem.html" class="md-footer__link md-footer__link--next" aria-label="Next: Using NetEm to Emulate Networks" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Using NetEm to Emulate Networks
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>