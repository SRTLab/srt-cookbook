
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>SRT Configuration Calculator - SRT CookBook</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#srt-configuration-calculator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="SRT CookBook" class="md-header__button md-logo" aria-label="SRT CookBook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SRT CookBook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SRT Configuration Calculator
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/SRTLab/srt-cookbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../index.html" class="md-tabs__link">
      Introduction
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../faq.html" class="md-tabs__link">
      FAQ
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../apps/index.html" class="md-tabs__link">
        Apps
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../getting-started/build-on-windows.html" class="md-tabs__link">
        Getting started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../how-to-articles/how-to-setup-Azure-VM.html" class="md-tabs__link">
        How to articles
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="index.html" class="md-tabs__link md-tabs__link--active">
        Protocol
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="SRT CookBook" class="md-nav__button md-logo" aria-label="SRT CookBook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    SRT CookBook
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/SRTLab/srt-cookbook/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Apps
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Apps" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Apps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/index.html" class="md-nav__link">
        Projects and Applications with SRT support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/ffmpeg.html" class="md-nav__link">
        FFmpeg
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/gstreamer-plugin.html" class="md-nav__link">
        GStreamer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/obs-studio.html" class="md-nav__link">
        OBS Studio
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/tsduck.html" class="md-nav__link">
        TSDuck
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/vlc-media-player.html" class="md-nav__link">
        VLC Media Player
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../apps/wireshark.html" class="md-nav__link">
        Wireshark
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Getting started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/build-on-windows.html" class="md-nav__link">
        Build on Windows
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/vcpkg-library-manager.html" class="md-nav__link">
        Vcpkg Library Manager
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        How to articles
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="How to articles" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How to articles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-articles/how-to-setup-Azure-VM.html" class="md-nav__link">
        How to Setup Virtual Machine in Azure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-articles/how-to-work-with-ssh-keys.html" class="md-nav__link">
        How to Work with SSH Keys
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-articles/using-netem-to-emulate-networks.html" class="md-nav__link">
        Using NetEm to Emulate Networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-articles/using-tshark-wireshark-to-analyse-srt-traffic.html" class="md-nav__link">
        Using TShark & Wireshark to Analyse SRT Traffic
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      <label class="md-nav__link" for="__nav_6">
        Protocol
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Protocol" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Protocol
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        The Protocol
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="bandwidth-estimation.html" class="md-nav__link">
        Bandwidth Estimation
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="configuration.html" class="md-nav__link md-nav__link--active">
        SRT Configuration Calculator
      </a>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="events-and-timers.html" class="md-nav__link">
        Control Events and Timers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="overhead.html" class="md-nav__link">
        SRT Protocol Overhead
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="threads.html" class="md-nav__link">
        Threads
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      <label class="md-nav__link" for="__nav_6_7">
        Congestion control
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Congestion control" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Congestion control
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="congestion-control/index.html" class="md-nav__link">
        Congestion Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="congestion-control/file-cc.html" class="md-nav__link">
        File Congestion Control
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_8" type="checkbox" id="__nav_6_8" >
      
      <label class="md-nav__link" for="__nav_6_8">
        Tsbpd
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tsbpd" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_8">
          <span class="md-nav__icon md-icon"></span>
          Tsbpd
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="tsbpd/index.html" class="md-nav__link">
        TSBPD
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tsbpd/latency-negotiation.html" class="md-nav__link">
        Latency Negotiation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="tsbpd/latency.html" class="md-nav__link">
        SRT Latency
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SRTLab/srt-cookbook/blob/master/docs/protocol/configuration.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="srt-configuration-calculator">SRT Configuration Calculator</h1>
<!--Plugin CSS file with desired skin-->
<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.0/css/ion.rangeSlider.min.css"/></p>
<!--jQuery-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!--Plugin JavaScript file-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.0/js/ion.rangeSlider.min.js"></script>

<!--iCheck Plugin-->
<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/iCheck/1.0.3/skins/square/blue.min.css"/></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iCheck/1.0.3/icheck.min.js"></script>

<!--Clipboard Plugin-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>

<!--Bootstrap-->
<p><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/js/bootstrap.min.js"></script>

<!--Beautiful Input Style-->
<style>
  .p-text {
    --p-safari-helper1: rgb(33, 150, 243);
    position: relative;
    display: inline-block;
    padding-top: 6px;
    font-family: var(--p-font, "Roboto", "Segoe UI", BlinkMacSystemFont, system-ui, -apple-system);
    font-size: 16px;
    line-height: 1.5;
    overflow: hidden
  }

  .p-text > input, .p-text > textarea {
    box-sizing: border-box;
    margin: 0;
    border: 1px solid rgba(0, 0, 0, .6);
    border-top-color: transparent;
    border-radius: 4px;
    padding: 15px 13px 15px;
    width: 100%;
    height: inherit;
    color: rgba(0, 0, 0, .87);
    background-color: transparent;
    box-shadow: none;
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    caret-color: #2196f3;
    transition: border .2s, box-shadow .2s
  }

  .p-text > input + span, .p-text > textarea + span {
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    border-color: rgba(0, 0, 0, .6);
    width: 100%;
    max-height: 100%;
    color: rgba(0, 0, 0, .6);
    font-size: 75%;
    line-height: 15px;
    cursor: text;
    transition: color .2s, font-size .2s, line-height .2s
  }

  .p-text > input + span::after, .p-text > input + span::before, .p-text > textarea + span::after, .p-text > textarea + span::before {
    content: "";
    display: block;
    box-sizing: border-box;
    margin-top: 6px;
    border-top: solid 1px;
    border-top-color: rgba(0, 0, 0, .6);
    min-width: 10px;
    height: 8px;
    pointer-events: none;
    box-shadow: inset 0 1px transparent;
    transition: border-color .2s, box-shadow .2s
  }

  .p-text > input + span::before, .p-text > textarea + span::before {
    margin-right: 4px;
    border-left: solid 1px transparent;
    border-radius: 4px 0
  }

  .p-text > input + span::after, .p-text > textarea + span::after {
    flex-grow: 1;
    margin-left: 4px;
    border-right: solid 1px transparent;
    border-radius: 0 4px
  }

  .p-text:hover > input, .p-text:hover > textarea {
    border-color: rgba(0, 0, 0, .87);
    border-top-color: transparent
  }

  .p-text:hover > input + span::after, .p-text:hover > input + span::before, .p-text:hover > textarea + span::after, .p-text:hover > textarea + span::before {
    border-top-color: rgba(0, 0, 0, .87)
  }

  .p-text:hover > input:not(:focus):placeholder-shown, .p-text:hover > textarea:not(:focus):placeholder-shown {
    border-color: rgba(0, 0, 0, .87)
  }

  .p-text > input:not(:focus):placeholder-shown, .p-text > textarea:not(:focus):placeholder-shown {
    border-top-color: rgba(0, 0, 0, .6)
  }

  .p-text > input:not(:focus):placeholder-shown + span, .p-text > textarea:not(:focus):placeholder-shown + span {
    font-size: inherit;
    line-height: 68px
  }

  .p-text > input:not(:focus):placeholder-shown + span::after, .p-text > input:not(:focus):placeholder-shown + span::before, .p-text > textarea:not(:focus):placeholder-shown + span::after, .p-text > textarea:not(:focus):placeholder-shown + span::before {
    border-top-color: transparent
  }

  .p-text > input:focus, .p-text > textarea:focus {
    border-color: #2196f3;
    border-top-color: transparent;
    box-shadow: inset 1px 0 var(--p-safari-helper1), inset 1px 0 var(--p-safari-helper1), inset 0 -1px var(--p-safari-helper1);
    outline: 0
  }

  .p-text > input:focus + span, .p-text > textarea:focus + span {
    color: #2196f3
  }

  .p-text > input:focus + span::after, .p-text > input:focus + span::before, .p-text > textarea:focus + span::after, .p-text > textarea:focus + span::before {
    border-top-color: var(--p-safari-helper1) !important;
    box-shadow: inset 0 1px var(--p-safari-helper1)
  }

  .p-text > input:disabled, .p-text > input:disabled + span, .p-text > textarea:disabled, .p-text > textarea:disabled + span {
    border-color: rgba(0, 0, 0, .38) !important;
    border-top-color: transparent !important;
    color: rgba(0, 0, 0, .38);
    pointer-events: none
  }

  .p-text > input:disabled + span::after, .p-text > input:disabled + span::before, .p-text > textarea:disabled + span::after, .p-text > textarea:disabled + span::before {
    border-top-color: rgba(0, 0, 0, .38) !important
  }

  .p-text > input:disabled:placeholder-shown, .p-text > input:disabled:placeholder-shown + span, .p-text > textarea:disabled:placeholder-shown, .p-text > textarea:disabled:placeholder-shown + span {
    border-top-color: rgba(0, 0, 0, .38) !important
  }

  .p-text > input:disabled:placeholder-shown + span::after, .p-text > input:disabled:placeholder-shown + span::before, .p-text > textarea:disabled:placeholder-shown + span::after, .p-text > textarea:disabled:placeholder-shown + span::before {
    border-top-color: transparent !important
  }

  @media not all and (min-resolution: .001dpcm) {
    @supports (-webkit-appearance:none) {
      .p-text > input, .p-text > input + span, .p-text > input + span::after, .p-text > input + span::before, .p-text > textarea, .p-text > textarea + span, .p-text > textarea + span::after, .p-text > textarea + span::before {
        transition-duration: .1s
      }
    }
  }
</style>

<div class="container">
  <div class="row">
    <div class="col-12 mt-3">
      <label for="kbpsBitrate-slider" class="label-slider h4">Bitrate</label>
      <input type="text" id="kbpsBitrate-slider" name="kbpsBitrate" oninput="onBitrateChanged(this.value)"/>
    </div>
    <div class="col-12 mt-3">
      <label for="msRTT-slider" class="label-slider h4">RTT (Round Trip Time)</label>
      <input type="text" id="msRTT-slider" name="msRTT" oninput="onRTTChanged(this.value)"/>
    </div>
    <div class="col-12 col-sm-4 mt-3">
      <label for="msLatency-slider" class="label-slider h4">Latency</label>
      <input type="text" id="msLatency-slider" name="msLatency" oninput="onLatencyChanged(this.value)"/>
    </div>
    <div class="col-12 col-sm-4 mt-3">
      <label for="lossPossible-slider" class="label-slider h4">1 try loss %</label>
      <input type="text" id="lossPossible-slider" name="lossPossible" oninput="onlossPossibleChanged(this.value)"/>
    </div>
    <div class="col-12 col-sm-4 mt-3">
      <label for="lossAfterRetries-slider" class="label-slider h4">Final loss %</label>
      <input type="text" id="lossAfterRetries-slider" name="lossAfterRetries" oninput="onLossAfterRetriesChanged(this.value)"/>
    </div>
    <div class="col-12 mt-3">
      <label for="byteMSS-slider" class="label-slider h4">MSS (Max Segment Size)</label>
      <input type="text" id="byteMSS-slider" name="byteMSS" oninput="onMSSChanged(this.value)"/>
    </div>
    <div class="col-12 mt-3">
      <label for="bytesPayloadSize-slider" class="label-slider h4">Payload Size</label>
      <input type="text" id="bytesPayloadSize-slider" name="bytesPayloadSize"
             oninput="onPayloadSizeChanged(this.value)"/>
    </div>
    <div class="col-12 mt-3">
      <label for="fc-slider" class="label-slider h4">Flow Control window size</label>
      <input type="text" id="fc-slider" name="fc" oninput="onFCChanged(this.value)"/>
    </div>
    <div class="col-12 mt-3">
      <label for="rcvbuf-slider" class="label-slider h4">Receive Buffer Size</label>
      <input type="text" id="rcvbuf-slider" name="rcvbuf" oninput="onRCVBUFChanged(this.value)"/>
    </div>
    <div class="col-12 col-sm-6 mt-3">
      <h4>Source IP / Domain & Port</h4>
      <label class="p-text col-12 col-sm-8">
        <input placeholder=" " id="srcInput" name="src" value="" oninput="onSrcChanged(this.value)">
        <span>IP / Domain</span>
      </label>
      <label class="p-text col-12 col-sm-3">
        <input placeholder=" " id="portInput" name="port" value="1234" oninput="onPortChanged(this.value)">
        <span>Port</span>
      </label>
    </div>
    <div class="col-12 col-sm-6 mt-3">
      <h4>Mode</h4>
      <div class="row" id="modeRadiosDiv">
        <div class="radio icheck col-auto">
          <input type="radio" id="listenerInput" value="listener" name="mode" onchange="onListenerClick()"/>
          <label for="listenerInput">Listener</label>
        </div>
        <div class="radio icheck col-auto">
          <input type="radio" checked id="callerInput" value="caller" name="mode" onchange="onCallerClick()"/>
          <label for="callerInput">Caller</label>
        </div>
      </div>
    </div>
    <div class="col-12 mt-3">
      <h4>Result</h4>
      <div class="row">
        <code class="lead text-break" id="configCode"></code>
      </div>
      <div class="row collapse" id="howCollapse">
        <div class="card card-body" id="howCode"></div>
      </div>
      <div class="row">
        <button class="col-6 col-sm-4 btn btn-outline-secondary clipboardBtn" data-clipboard-target="#configCode">Copy
        </button>
        <button class="col-6 col-sm-4 btn btn-outline-secondary" type="button" data-bs-toggle="collapse"
                data-bs-target="#howCollapse" aria-expanded="false" aria-controls="howCollapse">
          How it was calculated
        </button>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">

  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
  tooltipTriggerList.map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
  const btn = document.getElementsByClassName('clipboardBtn');
  new ClipboardJS(btn);
  $('.icheck').iCheck({
    checkboxClass: 'icheckbox_square-blue',
    radioClass: 'iradio_square-blue',
  });

  let currentTimestamp = () => Math.floor(Date.now() / 1000);
  var lastChange = currentTimestamp(), lastChangeBy = 'undefined';
  const ACK_BYTES = 44;
  const LISTENER = 'listener',
      CALLER = 'caller';
  const rttInput = $('#msRTT-slider'),
      bitrateInput = $('#kbpsBitrate-slider'),
      mssInput = $('#byteMSS-slider'),
      payloadSizeInput = $('#bytesPayloadSize-slider'),
      lossPossibleInput = $('#lossPossible-slider'),
      lossAfterRetriesInput = $('#lossAfterRetries-slider'),
      latencyInput = $('#msLatency-slider'),
      fcOutput = $('#fc-slider'),
      rcvbufOutput = $('#rcvbuf-slider'),
      configCode = document.getElementById('configCode'),
      howCode = document.getElementById('howCode'),
      srcInput = document.getElementById('srcInput'),
      portInput = document.getElementById('portInput');

  let calcParams = () => {
    const rtt = parseFloat(rttInput.val()),
        kbps = parseFloat(bitrateInput.val()),
        mss = parseFloat(mssInput.val()),
        payloadSize = parseFloat(payloadSizeInput.val()),
        latency = parseFloat(latencyInput.val());

    const fullLatencySec = (latency + rtt / 2) / 1000;
    const targetPayloadBytes = Math.floor(fullLatencySec * kbps * 1000 / 8);
    let targetNumPackets = Math.floor(targetPayloadBytes / payloadSize);
    if (targetNumPackets < 32)
      targetNumPackets = 32;
    const udphdrSize = 28;
    const targetSizeValue = targetNumPackets * (mss - udphdrSize);

    fcOutput.data('ionRangeSlider').update({from: targetNumPackets});
    rcvbufOutput.data('ionRangeSlider').update({from: targetSizeValue});

    howCode.innerHTML = `<p>According to <a target="_blank" href="https://github.com/Haivision/srt/blob/master/docs/API/configuration-guidelines.md">Configuration Guidelines</a>:</p>
<code class="text-break text-body">
udphdrSize = 28
<br>
fullLatencySec = (latency + rtt / 2) / 1000 = (${latency} + ${rtt} / 2) / 1000 = ${fullLatencySec}
<br>
targetPayloadBytes = fullLatencySec * kbps * 1000 / 8 = ${fullLatencySec} * ${kbps} * 1000 / 8 = ${targetPayloadBytes}
<br>
flowControlWindowSize = targetNumPackets = targetPayloadBytes / payloadSize = ${targetPayloadBytes} / ${payloadSize} = ${targetNumPackets}
<br>
receiveBufferSize = targetSizeValue = targetNumPackets * (mss - udphdrSize) = ${targetNumPackets} * (${mss} - ${udphdrSize}) = ${targetSizeValue}
</code>`;

    calcConfig(mss, payloadSize, latency, targetNumPackets, targetSizeValue);
  };

  let calcConfig = (mss = mssInput.val(), payloadSize = payloadSizeInput.val(), latency = latencyInput.val(), fc = fcOutput.val(), rcvbuf = rcvbufOutput.val()) => {
    const mode = $('input[name=mode]:checked').val();
    if (!mode) return;
    const src = srcInput.value,
        port = portInput.value;

    let srcValue = mode === CALLER ? src : '';
    let srtString = (`\
srt://${srcValue}:${port}\
?mode=${mode}\
&transtype=live\
&rcvlatency=${latency}\
&peerlatency=${latency}\
&mss=${mss}\
&payloadsize=${payloadSize}\
&fc=${fc}\
&rcvbuf=${rcvbuf}\
`);

    configCode.innerText = srtString;
  };

  function callerName() {
    return callerName.caller?.name;
  }

  function onRTTChanged(value) {
    $('#lossPossible-slider').change()
    console.log(callerName()); calcParams();
  }

  function onBitrateChanged(value) {
    console.log(callerName()); calcParams();
  }

  function onMSSChanged(value) {
    if (payloadSizeInput.val() > Number(value) - ACK_BYTES) {
      payloadSizeInput.data('ionRangeSlider').update({from: Number(value) - ACK_BYTES});
    }
    console.log(callerName()); calcParams();
  }

  function onPayloadSizeChanged(value) {
    if (mssInput.val() < Number(value) + ACK_BYTES) {
      mssInput.data('ionRangeSlider').update({from: Number(value) + ACK_BYTES});
    }
    console.log(callerName()); calcParams();
  }


  function calcLatencyLosses(rtt, lossPossiblePercent, lossAfterRetriesPercent) {
    if (lossPossiblePercent !== 0) {
      let ResendFailProb = lossAfterRetriesPercent / 100
      let FailProb = lossPossiblePercent / 100
      let tries = Math.log(ResendFailProb) / Math.log(FailProb)
      tries = Math.ceil(tries)
      let latency = rtt * tries
      // if (Number(latencyInput.val()) < minLatency)
      latencyInput.data('ionRangeSlider').update({from: latency})
    }
  }

  function onlossPossibleChanged(value) {
    console.log(callerName());
    if (lastChange !== currentTimestamp() || lastChangeBy === callerName()) {
      let rtt = Number(rttInput.val()),
          lossPossiblePercent = Number(value),
          lossAfterRetriesPercent = Number(lossAfterRetriesInput.val())
      calcLatencyLosses(rtt, lossPossiblePercent, lossAfterRetriesPercent)
    }
    lastChange = currentTimestamp()
    lastChangeBy = callerName()
  }

  function onLossAfterRetriesChanged(value) {
    console.log(callerName());
    if (lastChange !== currentTimestamp() || lastChangeBy === callerName()) {
      let rtt = Number(rttInput.val()),
          lossPossiblePercent = Number(lossPossibleInput.val()),
          lossAfterRetriesPercent = Number(value)
      calcLatencyLosses(rtt, lossPossiblePercent, lossAfterRetriesPercent)
    }
    lastChange = currentTimestamp()
    lastChangeBy = callerName()
  }

  function onLatencyChanged(value) {
    console.log(callerName());
    if (lastChange !== currentTimestamp() || lastChangeBy === callerName()) {
      let rtt = Number(rttInput.val()),
          lossPossiblePercent = Number(lossPossibleInput.val()),
          latency = Number(value)
      let retries = Math.floor(latency / rtt) // 2
      let ResendFailProb = retries === 0 ? lossPossiblePercent / 100 : Math.pow(lossPossiblePercent / 100, retries + 1)
      let lossAfterRetriesPercent = Math.max(ResendFailProb * 100, 0.01)
      console.log({value, retries, ResendFailProb, lossAfterRetriesPercent})
      lastChange = currentTimestamp()
      lastChangeBy = callerName()
      if (lossAfterRetriesInput.val() != lossAfterRetriesPercent)
        lossAfterRetriesInput.data('ionRangeSlider').update({from: lossAfterRetriesPercent})
    }
    calcParams();
  }

  function onFCChanged(value) {
    calcConfig();
  }

  function onRCVBUFChanged(value) {
    calcConfig();
  }

  function onListenerClick(value) {
    calcConfig();
  }

  function onCallerClick(value) {
    calcConfig();
  }

  function onSrcChanged(value) {
    calcConfig();
  }

  function onPortChanged(value) {
    calcConfig();
  }

  rttInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 0,
    max: 500,
    step: 5,
    from: 100,
    postfix: ' ms'
  });
  bitrateInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 100,
    max: 20000,
    step: 100,
    from: 8000,
    postfix: ' kbps'
  });
  mssInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 244,
    max: 1500,
    step: 1,
    from: 1360,
    postfix: ' bytes'
  });
  payloadSizeInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 200,
    max: 1456,
    step: 1,
    from: 1316,
    postfix: ' bytes'
  });
  lossPossibleInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 0,
    max: 100,
    step: 0.1,
    from: 1,
    postfix: ' %'
  });
  lossAfterRetriesInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 0.01,
    max: 100,
    step: 0.01,
    from: 0.01,
    postfix: ' %'
  });
  latencyInput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 0,
    max: 5000,
    step: 10,
    from: 300,
    postfix: ' ms'
  });
  fcOutput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 0,
    max: 10000,
    step: 1,
    postfix: ' packets',
    block: false
  });
  rcvbufOutput.ionRangeSlider({
    skin: 'round',
    grid: true,
    min: 0,
    max: 20000000,
    step: 100,
    postfix: ' bytes',
    block: false
  });
  console.log(callerName());
  calcParams();
</script>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" title="Back to top" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="bandwidth-estimation.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Bandwidth Estimation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Bandwidth Estimation
            </div>
          </div>
        </a>
      
      
        
        <a href="events-and-timers.html" class="md-footer__link md-footer__link--next" aria-label="Next: Control Events and Timers" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Control Events and Timers
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tracking", "toc.integrate", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.76f349be.min.js"></script>
      
    
  </body>
</html>